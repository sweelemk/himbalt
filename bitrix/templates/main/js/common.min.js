function menu(){var n=$(".ui-menu"),o=$(".overlay"),i=$("body");n.on("click",function(){i.hasClass("navigation_show")||i.addClass("navigation_show")}),o.on("click",function(){i.removeClass("navigation_show")})}function Loading(){var n=this;n.options={trigger:".js-link",isAnimation:!1,body:"body",openMenuClass:"navigation_show",pages:".pages",constantSection:".constant-section",breadcumbs:".breadcumbs"},n.initHandler=function(){$(n.options.trigger).on("click vclick",function(o){return!n.options.isAnimation&&(n.options.isAnimation=!0,n.link=$(this).attr("href"),$(n.options.body).hasClass(n.options.openMenuClass)?($(n.options.body).removeClass(n.options.openMenuClass),setTimeuot(function(){n.action(n.link,!0)},300)):n.action(n.link,!0),o.preventDefault(),!1)})},n.action=function(o,i){$.ajax({url:o,dataType:"html",beforeSend:function(){$(n.options.trigger).off("click vclick")},success:function(t){i!==!1&&n.history(o);var s=$(t).find(".js-ajx"),a=$(t).find(".breadcumbs-inner").html(),e=s.html();setTimeout(function(){$(".js-ajx").parent().html(e).promise().done(function(){console.log("Congratulations! AJAX success!"),$(n.options.breadcumbs).find(".breadcumbs-inner").html(a),s.data("pages")?($(n.options.pages).addClass("inner-page"),$(n.options.constantSection).addClass("inactive"),$(n.options.breadcumbs).addClass("show")):($(n.options.pages).removeClass("inner-page"),$(n.options.constantSection).removeClass("inactive"),$(n.options.breadcumbs).removeClass("show")),n.initHandler(),n.options.isAnimation=!1})},1e3)}})},n.history=function(n){window.history.replaceState("page"+n,document.title,location.href),window.history.pushState("page"+n,document.title,n)},n.browserState=function(){$(window).bind("popstate",function(o){var i=document.location;n.action(i,!1)})},n.initHandler(),n.browserState()}$(document).ready(function(){menu()});