function menu(){var n=$(".ui-menu"),t=$(".overlay"),i=$("body"),o=$(".cross-head");n.on("click",function(){i.hasClass("navigation_show")||i.addClass("navigation_show")}),t.add(o).on("click",function(){i.removeClass("navigation_show")})}function Loading(){var n=this;n.options={trigger:".js-link",isAnimation:!1,body:"body",openMenuClass:"navigation_show",pages:".pages",constantSection:".constant-section",breadcumbs:".breadcumbs",menu:".menu-elements"},n.initHandler=function(){$(n.options.trigger).on("click vclick",function(t){return!$(this).hasClass("active")&&(!n.options.isAnimation&&(n.options.isAnimation=!0,n.link=$(this).attr("href"),$(n.options.body).hasClass(n.options.openMenuClass)?($(n.options.body).removeClass(n.options.openMenuClass),setTimeout(function(){n.action(n.link,!0)},300)):n.action(n.link,!0),t.preventDefault(),!1))})},n.action=function(t,i){$.ajax({url:t,dataType:"html",beforeSend:function(){$(n.options.trigger).off("click vclick"),"undefined"!=typeof viv&&(viv.stop(),setTimeout(function(){viv.destroy()},400)),$(n.options.pages).addClass("transfer-pages pages-out"),$(".variable-section").hasClass("transition")&&setTimeout(function(){$(".variable-section").removeClass("transition")},400),setTimeout(function(){scrolls.scrollSet()},300)},success:function(o){i!==!1&&n.history(t);var s=$(o).find(".js-ajx"),e=$(o).find(".breadcumbs-inner").html(),a=s.parent().html(),l=$(o).find(".menu-elements").html();setTimeout(function(){$(".js-ajx").parent().html(a).promise().done(function(){console.log("Congratulations! AJAX success!"),s.data("pages")?($(n.options.pages).addClass("inner-page"),$(n.options.constantSection).addClass("inactive"),$(n.options.breadcumbs).addClass("show")):($(n.options.pages).removeClass("inner-page"),$(n.options.constantSection).removeClass("inactive"),$(n.options.breadcumbs).removeClass("show")),$(n.options.menu).html(l),$(n.options.breadcumbs).find(".breadcumbs-inner").html(e),n.initHandler(),n.options.isAnimation=!1,setTimeout(function(){$(n.options.pages).removeClass("pages-out").addClass("pages-in"),n.checkTransition()},500),scrolls.scrollUpdate(!0)})},600)}})},n.checkTransition=function(){$(n.options.pages).on("animationend",function(n){var t=$(this);t.removeClass("pages-in"),setTimeout(function(){t.removeClass("transfer-pages"),t.off("animationend")},400)})},n.history=function(n){window.history.replaceState("page"+n,document.title,location.href),window.history.pushState("page"+n,document.title,n)},n.browserState=function(){$(window).bind("popstate",function(t){var i=document.location;n.action(i,!1)})},n.initHandler(),n.browserState()}function actionContent(){var n=$(".variable-section"),t=$(".constant-section");t.on("mouseenter",function(){$(".pages").hasClass("inner-page")&&(n.addClass("transition"),$(this).removeClass("inactive"))}),t.on("mouseleave",function(){n.hasClass("transition")&&(n.removeClass("transition"),$(this).addClass("inactive"))})}function Scroller(n){this.el=n,this.param={constant:".js-constant",aninElements:".js-section",window:"window"},this.Scrollbar=window.Scrollbar,this.init()}var scrolls;window.onload=function(){var n=document.getElementById("my-scrollbar");scrolls=new Scroller(n)},Scroller.prototype={init:function(){var n=this;this.fixedElement=document.querySelector(this.param.constant),this.windowHeight=this.windowValue(),this.scrollbar=this.Scrollbar.init(this.el,{speed:1.5,damping:.08,alwaysShowTracks:!0,thumbMinSize:8,renderByPixels:!0,syncCallbacks:!0}),this.scrollbar.addListener(function(t){n.fixedPositionSidebar(t),n.updateOnScroll()}),this.updateElements(),window.onresize=function(){n.windowHeight=n.windowValue()}},windowValue:function(){return window.innerHeight},fixedPositionSidebar:function(n){var t=n.offset.y;this.fixedElement.style.top=t+"px"},scrollSet:function(){this.scrollbar.setPosition(0,0)},scrollUpdate:function(n){var t=this;this.scrollbar.update(!0),n&&t.updateElements()},updateElements:function(){this.section_el=document.querySelectorAll(this.param.aninElements)},updateOnScroll:function(){var n=this;this.section_el.forEach(function(t,i){var o=t.getBoundingClientRect().top;o<=n.windowHeight&&n.setScrollClass(t)})},setScrollClass:function(n){var t=n.getAttribute("data-inview-class");n.classList.add(t)}},$(document).ready(function(){menu(),actionContent()});